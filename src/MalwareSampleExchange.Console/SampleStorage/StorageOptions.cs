using System.ComponentModel.DataAnnotations;
using Amazon.S3;

namespace MalwareSampleExchange.Console.SampleStorage;

public enum StorageBackend
{
    File,
    S3
}

public class FileStorageOptions
{
    public string Path { get; set; } = "";
}

public class StorageOptions
{
    public StorageBackend Backend { get; set; } = StorageBackend.File;
}

public class S3StorageOptions
{
    public bool PathPrefix { get; set; } = true;
    [Required] public string AccessKey { get; set; } = default!;
    [Required] public string SecretKey { get; set; } = default!;
    [Required] public string Bucket { get; set; } = default!;
    public AmazonS3Config S3Config { get; set; } = new();
}
